{"version":3,"sources":["js/modules/camera.js"],"names":["$camera","document","getElementById","$canvas","$btnTakePhoto","$btnDelete","$btnDownload","$photoPreview","isPhotoAvailable","showSecondaryButtons","classList","add","hideSecondaryButtons","remove","takePhoto","width","height","Audio","play","getContext","drawImage","imgData","toDataURL","src","deletePhoto","downloadPhoto","link","createElement","download","Date","getTime","href","getAttribute","click","showBigPhoto","$modalContainer","className","$bigImg","Image","alt","appendChild","$app","addEventListener","target","setTimeout"],"mappings":";AAiDA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,YAAA,QAAA,cAAA,QAAA,UAAA,QAAA,aAAA,QAAA,cAAA,QAAA,aAAA,QAAA,WAAA,QAAA,cAAA,QAAA,QAAA,QAAA,aAAA,EAjDA,MAAMA,EAAUC,SAASC,eAAe,UACvCC,EAAUF,SAASC,eAAe,eAClCE,EAAgBH,SAASC,eAAe,kBACxCG,EAAaJ,SAASC,eAAe,cACrCI,EAAeL,SAASC,eAAe,gBACvCK,EAAgBN,SAASC,eAAe,iBA4CzC,QAAA,cAAA,EAAA,QAAA,aAAA,EAAA,QAAA,WAAA,EAAA,QAAA,cAAA,EAAA,QAAA,QAAA,EAAA,QAAA,QAAA,EA1CA,IAAIM,GAAmB,EAEvB,MAAMC,EAAuB,KACvBD,IACLH,EAAWK,UAAUC,IAAI,QACzBL,EAAaI,UAAUC,IAAI,UAGtBC,EAAuB,KACxBJ,IACJH,EAAWK,UAAUG,OAAO,QAC5BP,EAAaI,UAAUG,OAAO,UAGzBC,EAAY,CAACC,EAAOC,KACX,IAAIC,MAAM,mBAClBC,OACMf,EAAQgB,WAAW,MAC3BC,UAAUpB,EAAS,EAAG,EAAGe,EAAOC,GAC9BK,MAAAA,EAAUlB,EAAQmB,UAAU,cAClCf,EAAcgB,IAAMF,EACpBd,EAAcG,UAAUG,OAAO,gCAC/BL,GAAmB,KAlBnBH,EAAWK,UAAUC,IAAI,QACzBL,EAAaI,UAAUC,IAAI,UAqC5B,QAAA,UAAA,EAhBA,MAAMa,EAAc,KACdhB,IACLD,EAAcG,UAAUG,OAAO,SAC/BL,GAAmB,KAnBnBH,EAAWK,UAAUG,OAAO,QAC5BP,EAAaI,UAAUG,OAAO,SAoB9BN,EAAcG,UAAUC,IAAI,iCAW7B,QAAA,YAAA,EARA,MAAMc,EAAgB,KACjB,IAACjB,EAAkB,OACjBkB,MAAAA,EAAOzB,SAAS0B,cAAc,KACpCD,EAAKE,SAAW,QAAS,IAAIC,MAAOC,UACpCJ,EAAKK,KAAOxB,EAAcyB,aAAa,OACvCN,EAAKO,SAGN,QAAA,cAAA,EAAA,MAAMC,EAAe,KACdC,MAAAA,EAAkBlC,SAAS0B,cAAc,OAC/CQ,EAAgBC,UAAY,iBACtBC,MAAAA,EAAU,IAAIC,MAAMvB,MAAOC,QACjCqB,EAAQE,IAAM,aACdF,EAAQd,IAAMhB,EAAcyB,aAAa,OACzCK,EAAQD,UAAY,aACpBD,EAAgBK,YAAYH,GAC5BI,KAAKD,YAAYL,GACjBA,EAAgBO,iBAAiB,QAAyB,IAAf,IAAA,OAAEC,GAAa,EACrDA,IAAWR,IACdA,EAAgBzB,UAAUC,IAAI,OAC9BiC,WAAW,IAAMT,EAAgBtB,SAAU,SAZ9C,QAAA,aAAA","file":"camera.5365adfe.js","sourceRoot":"..\\src","sourcesContent":["const $camera = document.getElementById('camera'),\n\t$canvas = document.getElementById('photo-taker'),\n\t$btnTakePhoto = document.getElementById('btn-take-photo'),\n\t$btnDelete = document.getElementById('btn-delete'),\n\t$btnDownload = document.getElementById('btn-download'),\n\t$photoPreview = document.getElementById('photo-preview');\n\nlet isPhotoAvailable = false;\n\nconst showSecondaryButtons = () => {\n\tif (!isPhotoAvailable) return;\n\t$btnDelete.classList.add('show');\n\t$btnDownload.classList.add('show');\n};\n\nconst hideSecondaryButtons = () => {\n\tif (isPhotoAvailable) return;\n\t$btnDelete.classList.remove('show');\n\t$btnDownload.classList.remove('show');\n};\n\nconst takePhoto = (width, height) => {\n\tconst sound = new Audio('audio/sound.mp3');\n\tsound.play();\n\tconst ctx = $canvas.getContext('2d');\n\tctx.drawImage($camera, 0, 0, width, height);\n\tconst imgData = $canvas.toDataURL('image/jpeg');\n\t$photoPreview.src = imgData;\n\t$photoPreview.classList.remove('photo__preview--unavailable');\n\tisPhotoAvailable = true;\n\tshowSecondaryButtons();\n};\n\nconst deletePhoto = () => {\n\tif (!isPhotoAvailable) return;\n\t$photoPreview.classList.remove('show');\n\tisPhotoAvailable = false;\n\thideSecondaryButtons();\n\t$photoPreview.classList.add('photo__preview--unavailable');\n};\n\nconst downloadPhoto = () => {\n\tif (!isPhotoAvailable) return;\n\tconst link = document.createElement('a');\n\tlink.download = 'img-' + new Date().getTime();\n\tlink.href = $photoPreview.getAttribute('src');\n\tlink.click();\n};\n\nconst showBigPhoto = () => {\n\tconst $modalContainer = document.createElement('div');\n\t$modalContainer.className = 'modal__overlay';\n\tconst $bigImg = new Image(width, height);\n\t$bigImg.alt = 'Image view';\n\t$bigImg.src = $photoPreview.getAttribute('src');\n\t$bigImg.className = 'modal__img';\n\t$modalContainer.appendChild($bigImg);\n\t$app.appendChild($modalContainer);\n\t$modalContainer.addEventListener('click', ({ target }) => {\n\t\tif (target === $modalContainer) {\n\t\t\t$modalContainer.classList.add('out');\n\t\t\tsetTimeout(() => $modalContainer.remove(), 405);\n\t\t}\n\t});\n};\n\nexport {\n\t$camera,\n\t$canvas,\n\t$btnTakePhoto,\n\t$btnDelete,\n\t$btnDownload,\n\t$photoPreview,\n\tshowBigPhoto,\n\ttakePhoto,\n\tdownloadPhoto,\n\tdeletePhoto,\n};\n"]}